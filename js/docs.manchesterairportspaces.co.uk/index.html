<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* General Styles */
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            background-color: #f4f7fc;
            color: #333;
        }
        #sidebar ul li a.menu-active{
            background: #fff;
            color: #273476;
            font-weight: bold;
        }
        .text-color{
            color:white;
        }
        img.logo{
            filter: drop-shadow(0px 0px 2px #fff);
            margin-left:10px;
            display: block;
            margin: 0 auto;
        }
        /* Sidebar Styles */
        #sidebar {
            width: 280px;
            background-color: #273476;
            color: white;
            height: 100vh;
            position: fixed;
            overflow-y: auto;
            padding: 10px;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
        }

        #sidebar h2 {
            margin-top: 9px;
            font-size: 22px;
        }

        #sidebar ul {
            list-style: none;
            padding: 0;
        }

        #sidebar ul li {
            margin: 20px 0;
        }

        #sidebar ul li a {
            color: white;
            text-decoration: none;
            font-size: 16px;
            transition: 0.3s;
            display: block;
            padding: 10px;
            border-radius: 5px;
        }

        #sidebar ul li a:hover {
            background-color: #fff;
            color: #273476;
            font-weight: bold;
        }

        /* Main Content */
        #main-content {
            margin-left: 280px;
            padding: 30px;
            padding-bottom: 0px !important;
            flex: 1;
        }

        section {
            margin-bottom: 40px;
            padding: 25px;
            border-radius: 8px;
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: #273476;
            /*#004a99;*/
            font-size: 24px;
            border-bottom: 3px solid #466bb2;
            padding-bottom: 5px;
            margin-top: 0px;
        }
        .text-dark{
            color: #000 !important;
        }
        
        h3{
            color: #273476;
        }

        pre {
            background-color: #eef1f7;
            padding: 12px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 14px;
        }

        code {
            font-family: 'Courier New', monospace;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        table th, table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        table th {
            background-color: #273476;
            color: white;
        }

        footer {
            text-align: center;
            padding: 20px;
            background-color: #273476;
            color: white;
            margin-top: 40px;
        }
        footer p{
            margin: 0;
        }
       /* Modal Styles */
        .modal {
            display: flex;
            align-items: center;
            justify-content: center;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 9999;
        }

        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            width: 300px;
            text-align: center;
        }

        .modal-content h2 {
            margin-bottom: 20px;
            color: #004a99;
        }

        .modal-content input {
            width: 90%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .modal-content button {
            width: 100%;
            padding: 10px;
            background-color: #004a99;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .modal-content button:hover {
            background-color: #003366;
        }

        .error {
            color: red;
            margin-bottom: 10px;
        }
        
        .text-center{
            text-align: center;
        }

        /* Hide content initially */
        #main-content, #sidebar {
            display: none;
        }
        pre{
            background: #1e1e1e;
            color: #00ff24;
        }
        pre.response{
            color: #0dbc79;
        }
        pre.json{
            color:#ffb300;
        }
    </style>
    <style>
    .dropdown {
        background-color: #273476;
        color: white;
        padding: 10px;
        text-align: left;
        cursor: pointer;
        border-radius: 5px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .dropdown:hover {
        background-color: #1c264f;
    }

    .dropdown-content {
        display: none;
        padding-left: 15px;
    }

    .dropdown-content a {
        display: block;
        padding: 8px;
        color: white;
        text-decoration: none;
    }

    .dropdown-content a:hover {
        background-color: #fff;
        color: #273476;
        font-weight: bold;
    }
</style>
</head>
<body>
    <div id="authModal" class="modal">
        <div class="modal-content">
            <h2>Login Required</h2>
            <p class="error" id="error-message" style="display: none;">Invalid email or password.</p>
            <input type="email" id="email" placeholder="Enter Email">
            <input type="password" id="password" placeholder="Enter Password">
            <button onclick="checkAuth()">Login</button>
        </div>
    </div>

    <div id="sidebar">
        <div style="display:block">
            <img  class="logo" src="/manchester.png">
            <h2 class="text-color" >API Documentation</h2>
        </div>
        <ul>
            <li><a href="#overview" class="menu-active menu-link">Overview</a></li>
            <li><a href="#quick_start" class="menu-link">Quickstart</a></li>
            <li>
                <div class="dropdown" onclick="toggleDropdown()">
                    Endpoints
                    <span id="dropdown-icon">▼</span>
                </div>
                <div class="dropdown-content" id="endpoints-dropdown">
                    <a href="#get-latest-prices"  class="menu-link">Get Latest Prices</a>
                    <!-- Add more endpoints here if needed -->
                </div>
            </li>
            <li><a href="#errors"  class="menu-link">Response Error Codes</a></li>
        </ul>
    </div>

    <div id="main-content">
        <section id="overview">
            <h2>Overview</h2>
            <p>The purpose of this documentation is to help you quickly integrate the Manchester Pricing API, enabling you to dynamically retrieve the latest parking product prices and ensure that any price updates from Manchester’s system are automatically reflected on your website with each API request.</p>
        </section>
        <section id="quick_start">
            <h2>Quickstart</h2>
            <p>
                Before you start, you need an Access Token. If you already have a token, you can proceed to the 
                <a href="#endpoints">Endpoint section</a>. 
                If you do not have any access token, 
                please contact us at <a href="mailto:it@manchesterairportspaces.co.uk">it@manchesterairportspaces.co.uk</a> to request one.
            </p>
        </section>
        <!--<section id="authentication">-->
        <!--    <h2>Authentication</h2>-->
            
        <!--</section>-->

        <section id="endpoints">
            <h2>Endpoints</h2>
            <article>
            <h3>Base URL: <code class="text-dark">https://manchesterairportspaces.co.uk/api</code></h3>
            <h3 id="get-latest-prices">Get Latest Prices</h3>
            <p>Retrieve the latest parking prices from various companies for a specific airport. This endpoint provides real-time pricing details, ensuring accurate cost estimates for customers.</p>
            <h3>End Point: <code class="text-dark">/companyprices</code></h3>
            <h3>Method: <code class="text-dark">POST</code></h3>
                <!--<pre><code>POST https://manchesterairportspaces.co.uk/api/companyprices</code></pre>-->
            <h3>Request Parameters</h3>
            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th class="text-center">Required</th>
                        <th>Description</th>
                        <th>Example Value</th>
                    </tr>
                </thead>
               <tbody>
            <tr>
                <td><code>access_token</code></td>
                <td class="text-center">Yes</td>
                <td>Unique token</td>
                <td><code>eyJhbGciOiJIUzI1NiIsInR5cCI6.. e.g</code></td>
            </tr>
            <tr>
                <td><code>company_codes</code></td>
                <td class="text-center">Yes</td>
                <td>A unique identifier for the parking product</td>
                <td><code>103</code></td>
            </tr>
            <tr>
                <td><code>no_of_day</code></td>
                <td class="text-center">Yes</td>
                <td>The duration for which the customer wants to book parking</td>
                <td><code>7</code> (days)</td>
            </tr>
            <tr>
                <td><code>Month</code></td>
                <td class="text-center">Yes</td>
                <td>The starting date month</td>
                <td><code>03</code> (March)</td>
            </tr>
            <tr>
                <td><code>Year</code></td>
                <td class="text-center">Yes</td>
                <td>The starting date year</td>
                <td><code>2025</code></td>
            </tr>
        </tbody>
            </table>
            <h3>Sample Request Code (CURL)</h3>
            <pre>
<code>curl -X GET "https://manchesterairportspaces.co.uk/api/companyprices" \
 -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
 -d "company_codes=103" \
 -d "no_of_day=7" \
 -d "Month=03" \
 -d "Year=2025"</code>
            </pre>
            <h3>Sample Request Code (JSON)</h3>
            <pre class="json">
<code>{
  "access_token": "YOUR_ACCESS_TOKEN",
  "company_codes": "103",
  "no_of_day": 7,
  "Month": "03",
  "Year": "2025"
}</code>                
            </pre>
            <h3>Response</h3>
            <pre class="response">
<code>{
    "data": {
        "company_code": "103",
        "total_price": 40
    },
    "no_of_day": 4
}</code>
            </pre>
            </article>
        </section>

        <section id="errors">
            <h2>Response Error Codes</h2>
            <table>
                <thead>
                    <tr>
                        <th>Error Code</th>
                        <th>Message</th>
                        <th>Description</th>
                    </tr>
                </thead>
               <tbody>
                    <tr>
                        <td>400</td>
                        <td>Bad Request</td>
                        <td>Missing or incorrect request parameters.</td>
                    </tr>
                    <tr>
                        <td>401</td>
                        <td>Unauthorized</td>
                        <td>Authentication failed or not provided.</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>Not Found</td>
                        <td>Requested product information is not available.</td>
                    </tr>
                </tbody>
            </table>
        </section>
        <footer>
            <p>&copy; 2025 Manchester Parking API. All rights reserved.</p>
        </footer>
</div>
    <script>
        function checkAuth() {
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
    
            if (email === "it@manchesterairportspaces.co.uk" && password === "47;bLHhInXm#") {
                localStorage.setItem("isAuthenticated", "true"); // Store authentication status
                document.getElementById("authModal").style.display = "none";
                document.getElementById("main-content").style.display = "block";
                document.getElementById("sidebar").style.display = "block";
            } else {
                document.getElementById("error-message").style.display = "block";
            }
        }
    
        window.onload = function () {
            if (localStorage.getItem("isAuthenticated") === "true") { // Check localStorage
                document.getElementById("authModal").style.display = "none";
                document.getElementById("main-content").style.display = "block";
                document.getElementById("sidebar").style.display = "block";
            } else {
                document.getElementById("authModal").style.display = "flex";
            }
        };
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function toggleDropdown() {
            var dropdownContent = $("#endpoints-dropdown");
            var icon = $("#dropdown-icon");
    
            if (dropdownContent.is(":visible")) {
                dropdownContent.slideUp();
                icon.text("▼");
            } else {
                dropdownContent.slideDown();
                icon.text("▲");
            }
        }
    
        $(document).ready(function () {
              if (window.location.hash) {
                // Remove the hash and its value from the URL
                history.replaceState(
                  "",
                  document.title,
                  window.location.pathname + window.location.search
                );
              }
            $(".menu-link").click(function () {
                // Remove 'menu-active' from all links
                $(".menu-link").removeClass("menu-active");
                // Add 'menu-active' to clicked link
                $(this).addClass("menu-active");
            });
        });
    </script>
</body>
</html>
